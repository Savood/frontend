<ion-header>
  <ion-navbar color="secondary">
    <ion-title>{{ pageTitle }}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <div *ngIf="user">
    <img *ngIf="page == 'main'" class="header-image" src="assets/img/queen-live.png" (click)="changeHeader()">

    <div *ngIf="page == 'main'" class="content-main" text-wrap>
      <div class="circular">
        <img src="assets/img/marty-avatar.png" (click)="changeAvatar()">
      </div>
      <h2 text-center>{{user.firstname}} {{user.lastname}}</h2>
      <p class="profile-description" text-center>{{user.description}}</p>
      <ion-card>
        <ion-card-header>{{'PROFILE_BADGES'|translate}}</ion-card-header>
        <ion-grid text-center class="badges">
          <ion-row>
            <ion-col *ngFor="let gotBadge of user.badges" col-3>
              <ion-icon name="alarm" [color]="gotBadge ? 'primary' : 'dark'"></ion-icon>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card>
      <ion-card>
        <ion-card-header>{{'SETTINGS_PROFILE'|translate}}</ion-card-header>
        <ion-item-group>
          <button ion-item [navPush]="subSettings" [navParams]="emailSettings">
            <ion-icon name="mail" item-start></ion-icon>
            {{user.email}}
          </button>
          <button ion-item [navPush]="subSettings" [navParams]="phoneSettings">
            <ion-icon name="call" item-start></ion-icon>
            {{user.phone}}
          </button>
          <button ion-item [navPush]="subSettings" [navParams]="locationSettings">
            <ion-icon name="map" item-start></ion-icon>
            {{'SETTINGS_LOCATION'|translate}}
          </button>
        </ion-item-group>
      </ion-card>
      <ion-card>
        <ion-card-header>{{'SETTINGS_NOTIFICATIONS'|translate}}</ion-card-header>
        <ion-item-group>
          <button ion-item detail-none>
            <ion-label>{{'NOTIFICATIONS_FRIEND'|translate}}</ion-label>
            <ion-toggle></ion-toggle>
          </button>
          <button ion-item detail-none>
            <ion-label>{{'NOTIFICATIONS_FOOD'|translate}}</ion-label>
            <ion-toggle></ion-toggle>
          </button>
          <button ion-item detail-none>
            <ion-label>{{'NOTIFICATIONS_MESSAGE'|translate}}</ion-label>
            <ion-toggle></ion-toggle>
          </button>
          <button ion-item detail-none>
            <ion-label>{{'NOTIFICATIONS_RECIPE'|translate}}</ion-label>
            <ion-toggle></ion-toggle>
          </button>
        </ion-item-group>
      </ion-card>
      <ion-card>
        <ion-list>
          <button ion-item color="danger">
            {{'SETTINGS_LOGOUT'|translate|uppercase}}
          </button>
          <button ion-item color="danger">
            {{'PROFILE_DELETE_ACCOUNT'|translate|uppercase}}
          </button>
        </ion-list>
      </ion-card>
    </div>

    <div *ngIf="page == 'location'" class="content-location" text-wrap text-center>
      <div #map id="map"></div>
      <form [formGroup]="locationForm" class="text-location">
        <ion-list>
          <h3>{{'DEFAULT_PICKOFF_LOCATION'|translate}}</h3>
          <ion-item>
            <ion-input
              placeholder="{{'STREET'|translate|uppercase}}"
              formControlName="street"></ion-input>
            <ion-input
              placeholder="{{'NUMBER'|translate|uppercase}}"
              formControlName="number"></ion-input>
          </ion-item>
          <ion-item>
            <ion-input
              placeholder="{{'ZIP'|translate|uppercase}}"
              formControlName="zip"></ion-input>
            <ion-input
              placeholder="{{'CITY'|translate|uppercase}}"
              formControlName="city"></ion-input>
          </ion-item>
        </ion-list>
        <button ion-button block (click)="usePointerLocation()">{{'USE_POINTER_LOCATION'|translate}}</button>
        <button ion-button block (click)="useEnteredLocation()">{{'USE_ENTERED_LOCATION'|translate}}</button>
        <button ion-button block color="secondary" (click)="saveData(this.locationForm)">{{'SAVE'|translate}}</button>
      </form>
    </div>

    <div *ngIf="page == 'email'" class="content-location" text-wrap text-center>
      <form [formGroup]="emailForm" class="text-location">
        <ion-input
          placeholder="{{'EMAIL'|translate|uppercase}}"
          formControlName="email"></ion-input>
        <button ion-button block color="secondary" (click)="saveData(this.emailForm)">{{'SAVE'|translate}}</button>
      </form>
    </div>

    <div *ngIf="page == 'phone'" class="content-location" text-wrap text-center>
      <form [formGroup]="phoneForm" class="text-location">
        <ion-input
          placeholder="{{'PHONE'|translate|uppercase}}"
          formControlName="phone"></ion-input>
        <button ion-button block color="secondary" (click)="saveData(this.phoneForm)">{{'SAVE'|translate}}</button>
      </form>
    </div>
  </div>
</ion-content>
